<div class="app-container h-100">
  <formly-builder-navbar></formly-builder-navbar>

  <div class="main-content" cdkDropListGroup>
    @if (!$previewMode()) {
      <div class="palette-section">
        <formly-builder-field-palette
          (fieldSelect)="onFieldSelect($event)"
        ></formly-builder-field-palette>
      </div>
    }
    <div class="preview-section" [class.preview-fullWidth]="$previewMode()">
      <formly-builder-form-preview
        [$fields]="$fields()"
        [($selectedField)]="$selectedField"
        [$screenSize]="$screenSize()"
        (fieldsReordered)="onFieldsReordered($event)"
        (fieldDropped)="onFieldDropped($event)"
      ></formly-builder-form-preview>

      <div class="app-background"></div>
    </div>
    @if (!$previewMode()) {
      <div class="properties-section">
        <formly-builder-properties-panel
          [$selectedField]="$selectedField()"
          (fieldUpdated)="onFieldUpdated()"
        ></formly-builder-properties-panel>
      </div>
    }
  </div>
</div>
